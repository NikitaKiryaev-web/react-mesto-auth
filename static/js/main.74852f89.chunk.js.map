{"version":3,"sources":["components/Footer.js","components/Auth.js","components/Register.js","images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Login.js","images/SuccessLog.svg","images/FailedLog.svg","components/InfoTooltip.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","utils/api.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Footer","className","Auth","props","useState","email","setEmail","password","setPassword","title","onSubmit","e","preventDefault","noValidate","placeholder","type","minLength","value","onChange","target","required","name","autoComplete","buttonText","children","Register","handleRegister","activeClassName","to","Header","src","logo","alt","userEmail","onClick","onHeaderLinkClick","link","linkText","CurrentUserContext","React","createContext","Card","userInfo","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","onCardClick","onCardDelete","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Login","handleLogin","InfoTooltip","image","isLog","successImg","failedImg","text","closeByEscape","key","onClose","useEffect","document","addEventListener","removeEventListener","closeByClick","classList","contains","isOpen","ImagePopup","PopupWithForm","method","EditProfilePopup","currentUser","setUserName","setUserDescription","userName","userDescription","onUpdateUser","profession","id","maxLength","EditAvatarPopup","inputRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setName","setLink","ProtectedRoute","isLoggedIn","api","options","this","_url","url","_token","token","res","ok","json","Promise","reject","status","statusText","fetch","headers","authorization","then","_getOriginalResponse","body","JSON","stringify","cardId","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isTooltipPopupOpen","setIsTooltipPopupOpen","isSucceed","setIsSucceed","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoggedIn","history","useHistory","closeAllPopups","localStorage","removeItem","push","getProfileInfo","user","catch","err","console","log","getInitialCards","getItem","Accept","Authorization","authFunc","data","Provider","path","setItem","exact","unlikeCard","likeCard","newCards","deleteCard","filter","editProfile","addCard","editProfileAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","process","getElementById"],"mappings":"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","file":"static/js/main.74852f89.chunk.js","sourcesContent":["function Footer() {\r\n  return(\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","import {useState} from 'react';\r\n\r\nfunction Auth(props) {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  function handleEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handlePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onSubmit(password, email);\r\n    setPassword('');\r\n    setEmail('');\r\n  }\r\n\r\n  return (\r\n    <section className=\"auth\">\r\n      <h1 className=\"auth__title\">{props.title}</h1>\r\n      <form className=\"auth__form\"\r\n        onSubmit={handleSubmit}\r\n        noValidate\r\n      >\r\n        <input className=\"auth__input\"\r\n          placeholder=\"Email\"\r\n          type=\"text\"\r\n          minLength=\"2\"\r\n          value={email}\r\n          onChange={handleEmail}\r\n          required\r\n          name=\"email\"\r\n          autoComplete=\"off\"\r\n          type=\"email\"\r\n        />\r\n\r\n        <input className=\"auth__input\"\r\n          placeholder=\"Пароль\"\r\n          type=\"password\"\r\n          minLength=\"2\"\r\n          value={password}\r\n          onChange={handlePassword}\r\n          required\r\n          name=\"password\"\r\n          autoComplete=\"off\"\r\n        />\r\n\r\n        <button className=\"auth__submit-button\" type=\"submit\">{props.buttonText}</button>\r\n      </form>\r\n      {props.children}\r\n    </section>\r\n  )\r\n\r\n}\r\n\r\nexport default Auth;","import Auth from './Auth.js';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nfunction Register(props) {\r\n\r\n  function handleSubmit(password, email) {\r\n    props.handleRegister(password, email); \r\n  }\r\n\r\n  return(\r\n    <Auth\r\n      title=\"Регистрация\"\r\n      buttonText=\"Зарегистрироваться\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <NavLink className=\"auth__signin-tip\" activeClassName=\"auth__signin-tip_active\" to=\"/sign-in\">Уже зарегистрированы? Войти</NavLink>\r\n    </Auth>\r\n  )\r\n}\r\n\r\nexport default Register;","export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import logo from '../images/logo.svg';\r\n\r\nfunction Header(props) {\r\n\r\n\r\n  function onHeaderLinkClick() {\r\n    props.onHeaderLinkClick(props.link);\r\n  }\r\n\r\n  return(\r\n    <header className=\"header\">\r\n        <img src={logo} alt=\"Логотип\" className=\"header__logo\"/>\r\n        <div className=\"header__wrapper\">\r\n        <p className=\"header__user-info\">{props.userEmail}</p>\r\n        <button className=\"header__link\" type=\"button\" onClick={onHeaderLinkClick}>{props.linkText}</button>\r\n        </div>\r\n      </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport {useContext} from 'react'\r\n\r\nfunction Card(props) {\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n  \r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card)\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  const userInfo = useContext(CurrentUserContext);\r\n\r\n  const isOwn = props.card.owner._id === userInfo._id;\r\n  const cardDeleteButtonClassName = `photos__delete-button ${!isOwn && 'photos__delete-button_inactive'}`;\r\n  const isLiked = props.card.likes.some(item => item._id === userInfo._id);\r\n  const cardLikeButtonClassName = `photos__like-button ${isLiked && 'photos__like-button_active'}`;\r\n\r\n  return(\r\n    <div className=\"photos__card\">\r\n            <img src={props.card.link} alt=\"Фотография\" className=\"photos__illustration\" onClick={handleClick}/>\r\n            <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\r\n            <div className=\"photos__wrap\">\r\n              <h2 className=\"photos__title\">{props.card.name}</h2>\r\n              <div className=\"photos__like-wrap\">\r\n                <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\r\n                <p className=\"photos__like-counter\">{props.card.likes.length}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n  )\r\n}\r\n\r\nexport default Card;","import { useContext} from 'react';\r\nimport Card from './Card';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n\r\n  \r\n\r\n  const userInfo = useContext(CurrentUserContext);\r\n\r\n  \r\n\r\n\r\n \r\n  \r\n  return(\r\n    <>\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-overlay\">\r\n          <img src={userInfo.avatar} alt=\"Аватар\" className=\"profile__avatar\"/>\r\n        <div className=\"profile__button-overlay\">\r\n           <button type=\"button\" className=\"profile__avatar-button\" onClick={props.onEditAvatar}></button>\r\n          </div>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n         <div className=\"profile__wrap\">\r\n            <h1 className=\"profile__title\">{userInfo.name}</h1>\r\n            <button className=\"profile__edit-button\" type=\"button\" onClick={props.onEditProfile}></button> \r\n          </div>\r\n            <p className=\"profile__subtitle\">{userInfo.about}</p>\r\n       </div>\r\n       <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n      \r\n      <section className=\"photos\">\r\n      {props.cards.map(card => <Card card={card} key={card._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />)}\r\n      </section>\r\n    </main>\r\n</>\r\n  )\r\n}\r\n\r\nexport default Main;","import Auth from './Auth.js';\r\n\r\nfunction Login(props) {\r\n  \r\n  function handleSubmit(password, email) {\r\n    props.handleLogin(password, email)\r\n  }\r\n\r\n  return (\r\n    <Auth \r\n      title=\"Вход\"\r\n      buttonText=\"Войти\"\r\n      onSubmit={handleSubmit}\r\n    />\r\n  )\r\n}\r\n\r\nexport default Login;","export default __webpack_public_path__ + \"static/media/SuccessLog.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/FailedLog.df8eddf6.svg\";","import successImg from '../images/SuccessLog.svg';\r\nimport failedImg from '../images/FailedLog.svg';\r\nimport {useEffect} from 'react';\r\n\r\nfunction InfoTooltip(props) {\r\n  const image = props.isLog ? successImg : failedImg; \r\n  const text = props.isLog ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз.\"\r\n\r\n  const closeByEscape = (e) => {\r\n    if (e.key === 'Escape') {\r\n      props.onClose();\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('keydown', closeByEscape);\r\n\r\n    return() => {\r\n      document.removeEventListener('keydown', closeByEscape);\r\n    }\r\n\r\n  }, []);\r\n\r\n  \r\n  const closeByClick = (e) => {\r\n    e.target.classList.contains('popup') && props.onClose();\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('mousedown', closeByClick);\r\n\r\n    return () => {\r\n      document.removeEventListener('mousedown', closeByClick);\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div className={`popup popup_tooltip ${props.isOpen && \"popup_opened\"}`}>\r\n      <div className=\"popup__container popup__container_tooltip\">\r\n        <button className=\"popup__close popup__close_tooltip\" onClick={props.onClose}></button>\r\n        <img src={image} className=\"popup__tooltip-image\"></img>\r\n        <p className=\"popup__title popup__title_tooltip\">{text}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoTooltip;","import {useEffect} from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n\r\n  const closeByEscape = (e) => {\r\n    if (e.key === 'Escape') {\r\n      props.onClose();\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('keydown', closeByEscape);\r\n\r\n    return() => {\r\n      document.removeEventListener('keydown', closeByEscape);\r\n    }\r\n\r\n  }, [props.isOpen]);\r\n\r\n  \r\n  const closeByClick = (e) => {\r\n    e.target.classList.contains('popup') && props.onClose();\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('mousedown', closeByClick);\r\n\r\n    return () => {\r\n      document.removeEventListener('mousedown', closeByClick);\r\n    }\r\n  }, [props.isOpen])\r\n\r\n  return(\r\n  <div className={`popup popup_${props.name} ${props.isOpen ? 'popup_opened' : false}`}>\r\n      <div className=\"popup__container popup__container_image\">\r\n        <button className=\"popup__close popup__close_image\" onClick={props.onClose}></button>\r\n        <img src={props.card.link} alt=\"Фотография\" className=\"popup__illustration\"/>\r\n        <p className=\"popup__description\">{props.card.name}</p>\r\n    </div>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","import {useEffect} from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n  const closeByEscape = (e) => {\r\n    if (e.key === 'Escape') {\r\n      props.onClose();\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('keydown', closeByEscape);\r\n\r\n    return() => {\r\n      document.removeEventListener('keydown', closeByEscape);\r\n    }\r\n\r\n  }, []);\r\n\r\n  \r\n  const closeByClick = (e) => {\r\n    e.target.classList.contains('popup') && props.onClose();\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('mousedown', closeByClick);\r\n\r\n    return () => {\r\n      document.removeEventListener('mousedown', closeByClick);\r\n    }\r\n  })\r\n\r\n  return(\r\n<div className={`popup popup_${props.name} ${props.isOpen ? 'popup_opened' : false}`}>\r\n  <div className={`popup__container popup__container_${props.name}`}>\r\n    <button className={`popup__close popup__close_${props.name}`} type=\"button\" onClick={props.onClose}></button>\r\n    <h2 className={`popup__title popup__title_${props.name}`}>{props.title}</h2>\r\n    <form className={`popup__form popup__form_${props.name}`}  name={props.name} method=\"GET\" onSubmit={props.onSubmit} noValidate>\r\n      {props.children}\r\n      <button className={`popup__save-button popup__save-button_${props.name}`} type=\"submit\">{props.buttonText}</button>\r\n    </form>\r\n  </div>\r\n</div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import PopupWithForm from './PopupWithForm';\r\nimport {useState, useContext, useEffect} from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  \r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    setUserName(currentUser.name)\r\n    setUserDescription(currentUser.about);\r\n  }, [currentUser, props.isOpen]); \r\n\r\n  const [userName, setUserName] = useState();\r\n  const [userDescription, setUserDescription] = useState();\r\n\r\n  function handleChangeName(e) {\r\n    setUserName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setUserDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name: userName,\r\n      profession: userDescription\r\n    })\r\n  }\r\n\r\n  return(\r\n    <PopupWithForm\r\n    name='profile'\r\n    title='Редактировать профиль'\r\n    isOpen={props.isOpen}\r\n    onClose={props.onClose}\r\n    buttonText='Сохранить'\r\n    onSubmit={handleSubmit}\r\n    >\r\n      <>\r\n      <input type=\"text\" id='name' minLength=\"2\" maxLength=\"40\" value={userName || ''} onChange={handleChangeName} required name=\"name\" autoComplete=\"off\" placeholder=\"Введите ваше имя\" className=\"popup__input popup__input_type_name\"/>\r\n      <span id='name-error' className=\"popup__error\"></span>\r\n      <input type=\"text\" id='profession' minLength=\"2\" maxLength=\"200\" value={userDescription || ''} onChange={handleChangeDescription} required name=\"profession\" autoComplete=\"off\" placeholder=\"Чем вы занимаетесь?\" className=\"popup__input popup__input_type_profession\"/>\r\n      <span id='profession-error' className=\"popup__error\"></span>\r\n      </>\r\n      \r\n    \r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import PopupWithForm from './PopupWithForm';\r\nimport {useRef} from 'react';\r\n\r\n\r\nfunction EditAvatarPopup(props) {\r\n  \r\n  const inputRef = useRef();\r\n  \r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatar: inputRef.current.value\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n        name='avatar'\r\n        title='Обновить аватар'\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        buttonText='Сохранить'\r\n        onSubmit={handleSubmit}\r\n        >\r\n          <>\r\n          <input ref={inputRef} type=\"url\" id=\"avatar-url\" required name=\"avatar\" autoComplete=\"off\" placeholder=\"Ссылка на аватар\" className=\"popup__input popup__input_type_url\"/>\r\n          <span id=\"avatar-url-error\" className=\"popup__error\"></span>\r\n          </>\r\n        \r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import PopupWithForm from './PopupWithForm';\r\nimport {useState} from 'react';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const [name, setName] = useState('');\r\n  const [link, setLink] = useState('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link\r\n    })\r\n    //setName('');\r\n    //setLink('');\r\n  }\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n  \r\n  return (\r\n    <PopupWithForm\r\n    name='card'\r\n    title='Новое место'\r\n    isOpen={props.isOpen}\r\n    onClose={props.onClose}\r\n    onSubmit={handleSubmit}\r\n    buttonText='Создать'\r\n    >\r\n      <>\r\n      <input type=\"text\" id='title'  minLength=\"2\" maxLength=\"30\" value={name} required name=\"name\" onChange={handleChangeName} autoComplete=\"off\" placeholder=\"Название\" className=\"popup__input popup__input_type_title\"/>\r\n      <span id=\"title-error\" className=\"popup__error\"></span>\r\n      <input type=\"url\" id=\"url\" value={link} required name=\"link\" onChange={handleChangeLink} autoComplete=\"off\" placeholder=\"Ссылка на картинку\" className=\"popup__input popup__input_type_url\"/>\r\n      <span id=\"url-error\" className=\"popup__error\"></span>\r\n      </>\r\n    \r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import {Route, Redirect} from 'react-router-dom';\r\n\r\nfunction ProtectedRoute(props) {\r\n  return (\r\n    <Route>\r\n      {props.isLoggedIn ? props.children : <Redirect to=\"/sign-in\" />}\r\n    </Route>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute;"," //Класс для работы с API\r\n class Api {\r\n  constructor(options) {\r\n    this._url = options.url;\r\n    this._token = options.token;\r\n  }\r\n\r\n  _getOriginalResponse(res) {\r\n    if(res.ok) {\r\n      return res.json();\r\n    }\r\n    \r\n    return Promise.reject(`Error: ${res.status} ${res.statusText}`);    \r\n  } \r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }\r\n    )\r\n    .then(res => {\r\n      return this._getOriginalResponse(res);     \r\n    })\r\n     \r\n  }\r\n\r\n  getProfileInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n    .then(res => {\r\n      return this._getOriginalResponse(res);\r\n    })\r\n  }\r\n\r\n  addCard(item) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: item.name,\r\n        link: item.link\r\n      })\r\n    })\r\n    .then(res => {\r\n      return this._getOriginalResponse(res);\r\n      \r\n    })\r\n    \r\n  }\r\n\r\n  editProfile(item) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: item.name,\r\n        about: item.profession\r\n      })\r\n    })\r\n    .then(res => {\r\n      return this._getOriginalResponse(res);\r\n      \r\n    })\r\n    \r\n  }\r\n  \r\n  editProfileAvatar(item) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: item.avatar\r\n      })\r\n    })\r\n    .then(res => {\r\n      return this._getOriginalResponse(res);\r\n    })\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._url}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(res => {\r\n      return this._getOriginalResponse(res);\r\n    })\r\n  }\r\n\r\n  likeCard(cardId) {\r\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(res => {\r\n      return this._getOriginalResponse(res);\r\n    })\r\n  }\r\n\r\n  unlikeCard(cardId) {\r\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(res => {\r\n      return this._getOriginalResponse(res);\r\n    })\r\n  }\r\n\r\n\r\n}\r\n\r\n const api = new Api({\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-19',\r\n  token: 'cdc2b984-82a4-4b35-acbd-93038325fc29'\r\n})\r\n\r\nexport default api;","export const url = \"https://auth.nomoreparties.co\";\r\n\r\nexport const reg = (password, email) => {\r\n  return fetch(`${url}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({\r\n      password,\r\n      email\r\n    })\r\n  })\r\n    .then((res) => {\r\n      if(res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Error: ${res.status}`);\r\n    });  \r\n};\r\n\r\nexport const auth = (password, email) => {\r\n  return fetch(`${url}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({\r\n      password,\r\n      email\r\n    })\r\n  })\r\n    .then((res) => {\r\n      if(res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Error: ${res.status}`);\r\n    });\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n  return fetch(`${url}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Error: ${res.status}`);\r\n    });\r\n};","import React from 'react';\r\nimport '../index.css';\r\nimport {Route, Redirect, Switch, useHistory} from 'react-router-dom';\r\nimport Footer from './Footer';\r\nimport Register from './Register';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Login from \"./Login\";\r\nimport InfoTooltip from './InfoTooltip';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport {useState, useEffect} from 'react'\r\nimport api from '../utils/api';\r\nimport * as authFunc from '../utils/auth';\r\n\r\n\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\r\n  const [isTooltipPopupOpen, setIsTooltipPopupOpen] = useState(false);\r\n  const [isSucceed, setIsSucceed] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [email, setEmail] = useState();\r\n\r\n  const history = useHistory();\r\n  \r\n  useEffect(() => {\r\n    api.getProfileInfo()\r\n      .then((user) => {\r\n        setCurrentUser(user);\r\n      })\r\n      .catch(err => {\r\n        console.log(`Error: ${err}`);\r\n      })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    api.getInitialCards()\r\n      .then((cards) => {\r\n        setCards(cards);\r\n      })\r\n      .catch((err) =>{\r\n        console.log(`Error: ${err}`);\r\n      })\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if(localStorage.getItem(\"jwt\")) {\r\n      let token = localStorage.getItem(\"jwt\")\r\n      authFunc.checkToken(token)\r\n        .then((res) => {\r\n          setIsLoggedIn(true);\r\n          setEmail(res.data.email);\r\n          history.push(\"/\");\r\n        })\r\n        .catch(err => console.log(err));\r\n    };\r\n  }, [history]);\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsImagePopupOpen(false);\r\n    setSelectedCard({});\r\n    setIsTooltipPopupOpen(false);\r\n  }\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setIsImagePopupOpen(true);\r\n  }\r\n\r\n  function handleUpdateUser(item) {\r\n    api.editProfile(item)\r\n      .then(res => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log(`Error: ${err}`));\r\n  }\r\n\r\n  function handleUpdateAvatar(item) {\r\n    api.editProfileAvatar(item)\r\n      .then(res => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log(`Error: ${err}`));\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(item => item._id === currentUser._id);\r\n    const toggleLike = isLiked ? api.unlikeCard(card._id) : api.likeCard(card._id);\r\n    toggleLike\r\n      .then((res) => {\r\n        const newCards = cards.map((item) => \r\n          item._id === res._id ? res : item\r\n        )\r\n        setCards(newCards);\r\n      })\r\n      .catch(err => console.log(`Error: ${err}`));\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id)\r\n      .then(res => {\r\n        const newCards = cards.filter(item => item._id !== card._id);\r\n        setCards(newCards);\r\n      })\r\n      .catch(err => console.log(`Error: ${err}`));\r\n\r\n  }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    api.addCard(card)\r\n      .then(res => {\r\n        setCards([res, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log(`Error: ${err}`));\r\n  }\r\n\r\n  function handleLogin(password, email) {\r\n    authFunc.auth(password, email)\r\n      .then((res) => {\r\n        localStorage.setItem(\"jwt\", res.token);\r\n        setIsLoggedIn(true);\r\n        setEmail(email);\r\n        history.push('/');\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  function handleRegister(password, email) {\r\n    authFunc.reg(password, email)\r\n      .then((res) => {\r\n        setIsSucceed(true);\r\n        setIsTooltipPopupOpen(true);\r\n      })\r\n      .catch((err) => {\r\n        setIsSucceed(false);\r\n        setIsTooltipPopupOpen(true);\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function onHeaderLinkClick(link) {\r\n    if(link === \"/sign-out\") {\r\n      localStorage.removeItem('jwt');\r\n      history.push(\"/sign-in\")\r\n    }\r\n    else {\r\n      history.push(`${link}`);\r\n    }\r\n  }\r\n\r\n  function closeTooltipPopup() {\r\n    setIsTooltipPopupOpen(false);\r\n    if(isSucceed) {\r\n      history.push(\"/sign-in\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='page'>\r\n      <div className=\"page__container\">\r\n\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n      <Switch>\r\n        <Route path=\"/sign-up\">\r\n          <Header \r\n            link=\"/sign-in\"\r\n            linkText=\"Войти\"\r\n            onHeaderLinkClick={onHeaderLinkClick}\r\n          />\r\n          <Register handleRegister={handleRegister}/>\r\n        </Route>\r\n\r\n        <Route path=\"/sign-in\">\r\n          <Header \r\n            link=\"/sign-up\"\r\n            linkText=\"Зарегистрироваться\"\r\n            onHeaderLinkClick={onHeaderLinkClick}\r\n          />\r\n          <Login handleLogin={handleLogin} />  \r\n        </Route>\r\n        <ProtectedRoute\r\n          exact path=\"/\"\r\n          isLoggedIn = {isLoggedIn}  \r\n        >\r\n        <Header\r\n          userEmail = {email} \r\n          linkText=\"Выйти\"\r\n          link=\"/sign-out\"\r\n          onHeaderLinkClick={onHeaderLinkClick}\r\n        />  \r\n\r\n        <Main \r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onCardClick={handleCardClick}\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleCardDelete}\r\n        />\r\n\r\n        <Footer/>\r\n        </ProtectedRoute>\r\n      </Switch>\r\n    \r\n      <EditProfilePopup\r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateUser={handleUpdateUser}\r\n      />\r\n     \r\n      <AddPlacePopup\r\n        isOpen={isAddPlacePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onAddPlace={handleAddPlaceSubmit}\r\n\r\n      />\r\n\r\n      <EditAvatarPopup\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n      />\r\n\r\n      <ImagePopup \r\n        name='image'\r\n        isOpen={isImagePopupOpen}\r\n        onClose={closeAllPopups}\r\n        card={selectedCard}\r\n      />\r\n\r\n      <InfoTooltip \r\n        isOpen={isTooltipPopupOpen}\r\n        isLog={isSucceed}\r\n        onClose={closeTooltipPopup}\r\n      />\r\n\r\n      </CurrentUserContext.Provider> \r\n    </div>\r\n  </div>\r\n    \r\n    \r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n      <App />\r\n    </BrowserRouter>  \r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}